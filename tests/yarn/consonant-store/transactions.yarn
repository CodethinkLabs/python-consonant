Applying and validations transactions using consonant.store
===========================================================

Apply an invalid transaction that creates a new object of a non-existent class using consonant.store
----------------------------------------------------------------------------------------------------

    SCENARIO apply an invalid transaction that creates a new object of a non-existent class using consonant.store
    GIVEN    the standard test store "consonant-test-store-01"
    WHEN     starting a transaction based on commit 5c127eaf
    AND      defining a create action
    AND      setting the action class to "bucket"
    AND      defining object properties
    AND      setting the object text property title to "Bucket 1"
    AND      defining a commit action
    AND      setting the action target to "refs/heads/master"
    AND      setting the action author to "Samuel Bartlett <samuel@yourproject.org>"
    AND      setting the action author-date to "1380539061 +0100"
    AND      setting the action committer to "IRC Code Review Bot <reviewbot@yourproject.org>"
    AND      setting the action committer-date to "1380539061 +0100"
    AND      setting the action message to "Modify no objects"
    AND      submitting the invalid transaction
    THEN     an ActionClassUnknownError is thrown

Apply an invalid transaction that creates a new object with a non-existent property using consonant.store
---------------------------------------------------------------------------------------------------------

    SCENARIO apply an invalid transaction that creates a new object with a non-existent property using consonant.store
    GIVEN    the standard test store "consonant-test-store-01"
    WHEN     starting a transaction based on commit 5c127eaf
    AND      defining a create action
    AND      setting the action class to "card"
    AND      defining object properties
    AND      setting the object text property nonexistentproperty to "Hello"
    AND      defining a commit action
    AND      setting the action target to "refs/heads/master"
    AND      setting the action author to "Samuel Bartlett <samuel@yourproject.org>"
    AND      setting the action author-date to "1380539061 +0100"
    AND      setting the action committer to "IRC Code Review Bot <reviewbot@yourproject.org>"
    AND      setting the action committer-date to "1380539061 +0100"
    AND      setting the action message to "Modify no objects"
    AND      submitting the invalid transaction
    THEN     an ActionPropertyUnknownError is thrown

Apply an invalid transaction that modifies a raw property in a create action using consonant.store
--------------------------------------------------------------------------------------------------

TODO - the example schema has no raw property definitions yet, so we
cannot test this at the moment.

Apply an invalid transaction that creates a new object that references a non-existent object using consonant.store
------------------------------------------------------------------------------------------------------------------

TODO - the example schema only has bidirectional references. To create
an object that references another, we have to not just have an
implementation of create but also of update actions.

Apply a valid transaction to a non-existent commit using consonant.store
------------------------------------------------------------------------

    SCENARIO apply a transaction to a non-existent commit using consonant.store
    GIVEN    the standard test store "consonant-test-store-01"
    WHEN     starting a transaction based on commit abcdef12
    AND      defining a commit action
    AND      setting the action target to "refs/heads/master"
    AND      setting the action author to "Samuel Bartlett <samuel@yourproject.org>"
    AND      setting the action author-date to "1380539061 +0100"
    AND      setting the action committer to "IRC Code Review Bot <reviewbot@yourproject.org>"
    AND      setting the action committer-date to "1380539061 +0100"
    AND      setting the action message to "Modify no objects"
    AND      submitting the transaction based on the non-existent commit
    THEN     a CommitNotFoundError is thrown
